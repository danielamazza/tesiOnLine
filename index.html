<!DOCTYPE html>
<html lang="en">
	<head>
		<title>RESOURCES OPTIMIZATION FOR DISTRIBUTED MOBILE PLATFORMS IN SMART CITIES</title>
        <meta name="description" content="Ph.D. thesis by Daniela Mazza" />
		<meta charset="utf-8" />
		<meta name="author" content="Daniela Mazza" />
		<meta name="viewport" content="width=device-width; initial-scale=1.0" />
		
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
		<!-- just some default styles, nothing important -->
		<link rel="stylesheet" href="style.css" />
		
		<!-- fancybox -->
		<link rel="stylesheet" type="text/css" media="screen" href="http://cdnjs.cloudflare.com/ajax/libs/fancybox/1.3.4/jquery.fancybox-1.3.4.css" /> 

		<style type="text/css">
    	a.fancybox img {
        border: 0;
        box-shadow: 0 1px 7px rgba(0,0,0,0.6);
        -o-transform: scale(1,1); -ms-transform: scale(1,1); -moz-transform: scale(1,1); -webkit-transform: scale(1,1); transform: scale(1,1); -o-transition: all 0.2s ease-in-out; -ms-transition: all 0.2s ease-in-out; -moz-transition: all 0.2s ease-in-out; -webkit-transition: all 0.2s ease-in-out; transition: all 0.2s ease-in-out;
    	} 
    	a.fancybox:hover img {
        position: relative; z-index: 999; -o-transform: scale(1.03,1.03); -ms-transform: scale(1.03,1.03); -moz-transform: scale(1.03,1.03); -webkit-transform: scale(1.03,1.03); transform: scale(1.03,1.03);
    	}
		</style> 
		<!-- the important styles are below... -->
		<style>
			#wrapper {overflow: hidden;}
			#content {width:486px; margin-right:10px; float:left; min-height:1200px;}
			#sidebar {width:284px; padding:10px; background: #eee; float:right; height:400px;font-size: 85%;}			
			#sidebar a {color: green;}
			#sidebar blockquote a {color: black;}
			#portamento_container {float:right; position:relative;} /* take the positioning of the sidebar, and become the start point for the sidebar positioning */
			#portamento_container #sidebar {float:none; position:absolute;} /* no need to float anymore, become absolutely positoned */
			#portamento_container #sidebar.fixed {position:fixed;} /* if the panel is sliding, it needs position:fixed */
		</style>
		
		<!-- looking for the Portamento JS? It's just before </body> -->
		
		<!--  Google Analytics Asynchronous Tracking Code -->
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-16673483-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>

        <!--  MathJax -->
		<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>
        <script type="text/javascript" async
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
        </script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });
        </script>
	</head>

	<body>
		<div>
			<header>
			<h2>ALMA MATER STUDIORUM â€“ UNIVERSITY OF BOLOGNA</h2>	
			<br>			
			<h1>RESOURCES OPTIMIZATION FOR DISTRIBUTED MOBILE PLATFORMS IN SMART CITIES</h1>
            <h2>Ph.D. thesis by Daniela Mazza</h2>
            <h3>&#169; Copiright by Daniela Mazza Candidate 2016</h3>
            <h4>All Right  Reserved</h4>
			</header>
			
			<div id="wrapper">
				<div id="content">
					<h3 class="title"><a name="Abstract">Abstract</a></h3>
					<p>This thesis collects the outcomes of a Ph.D. course in Electronics, Telecommunications, and Information Technologies Engineering and it is focused on the study and design of techniques able to optimize resources in distributed mobile platforms. <br />It is related to a typical <b>smart city</b> environment, to enhance quality, performance and interactivity of urban services.<br /> The subject is the operation of computation offloading, intended as the delegation of certain computing tasks to an external platform, such as a cloud or a cluster of devices. Offloading the computation tasks can effectively expand the usability of mobile devices beyond their physical limits and may be necessary due to limitations of a system handling a particular task on its own.

                    <p>The computation offloading within an ecosystem as a urban community, where a large amount of users are connected towards even multiple devices, is a challenging subject. In a very close future, smart cities will be peculiar sources of intensive computing tasks, since they are conceived as systems where e-governance will be not only transparent and fast, but also oriented to energy and water conservation, efficient waste disposal, city automation, seamless facilities to travel and affordable access to health management systems. Also traffic will need to be monitored intelligently, emergencies foreseen and resolved quickly, homes and citizens provided with a wide series of control and security devices. All these ambitious aspirations will require the deployment of infrastructures and systems where devices will generate massive data and should be orchestrated in a collective way, to pursue synergic goals. In this context, the computation offloading is an operation dealing with the optimization of urban services, to reduce costs and consumption of resources and to improve contact between citizens and government.
                    </p>
                    <p>This dissertation is organized in three main parts, dealing with the optimization of the resources in a smart city background from diffeerent points of view.
                    </p>
                    <p>The first part introduces the Urban Mobile Cloud Computing (UMCC) framework, a system model that takes into account a series of features related to Heterogeneous Networks (HetNets), cloud architectures, various characteristics of the Smart Mobile Devices (SMDs) and different types of smart city application, performed to pursue several goals.
                    </p>
                    <p>The second part deals with a partial offoading operation, considering to delegate only a portion of the computation load to a cloud infrastructure. It is focused on the tradeoff between energy consumption and execution time, in a non-trivial multi-objective optimization approach. Furthermore, a utility function model developed from the economic field is introduced. It takes into account a series of parameters related to the UMCC, showing that, when the network is overloaded, the partial offoading permits to achieve the target throughput values with an energy consumption and a computational time reduced if compared with the total offoading of the computation tasks. In addition, the proposed UMCC framework and the partial computation offoading are applied to a vehicular environment for handling a real-time navigation application, so that the SMDs can exploit road side units and other neighbor devices forming clusters for delegating a shared application. It is shown that the clusterization allows to reduce the consumed energy in case of high traffc scenarios, optimizing the cluster size for different populations size and various offoading policies.
                    </p>
                    <p>Finally, in the third part, the problem of Cell Association (CA) in a UMCC framework deals with the system as a community, thinking about to improve the collective performance and not only the achievement of a single device. A probabilistic algorithm that uses biased-randomization techniques is proposed as an efficient alternative to exact methods, which require unacceptable levels of computational time to solve real life instances. This probabilistic algorithm is able to provide near-optimal solutions in real time, thus outperforming by far the solutions provided by existing greedy heuristics. Since this algorithm takes into account all users in the assignment process, it avoids the selfish or myopic behavior of the greedy heuristic and, at the same time, is able to quickly find near-optimal solutions for allocation of the avaiable resources.
                    </p>
                    <h3 class="title"><a name="Introduction">Introduction</a></h3>
                    <p>According to the flagship publication of the United Nations <a href="http://esa.un.org/unpd/wup/" target="_blank">World Urbanization Prospect</a>, more than one half of the world population is living nowadays in urban areas, and about 70% will be city dwellers by 2050. Furthermore, the world population is estimated to increase in the second half of the 21<sup>st</sup> century, while the urban areas are expected to absorb all the predicted growth and to draw in some of the rural population. The United Nations report predicts that, by mid-century, there will be 27 megacities, with at least 10 million population, while at least half of the urban growth in the coming decades will occur in small cities with less than 500,000 people, envisioning therefore that cities, big or small, are becoming a determining shift in the organization of human society. Cities and megacities are predicted to magnify problems such as diffculty in waste management, scarcity of resources, air pollution, human health concerns, traffic congestion, and inadequate, deteriorating and aging infrastructures.
                    </p>    
                    <p>Concurrently with such urbanization effect, an extraordinary phenomenon concerning the Information and Communication Technology (ICT) is happening: smart mobile devices are becoming an essential part of human life and the most effective and convenient communication tools, not bounded in time and place. According to the <a href="http://www.cisco.com/c/en/us/solutions/service-provider/visual-networking-index-vni/index.html" target="_blank">Cisco Visual Networking Index</a>, the number of mobile-connected devices has already overtaken the number of people in the world, and by 2018 it will be over 10 billion, including Machine to Machine (M2M) modules. Overall mobile data traffic is expected to have nearly an 11-fold increase in the next five years.
                    </p>
                    <p>Urbanization tendency and smart mobile expansion are going to reach a relevant convergence point through the concept of smart city, an icon of a sustainable and livable city, projecting the ubiquitous and pervasive computing paradigms to urban spaces, focusing on developing city network infrastructures, optimizing traffc and transportation fows, lowering energy consumption and offering innovative services. It is through ICT that smart cities are truly turning smart [1], in particular by means of the exploitation of smart mobile devices, forming together with cloud computing the Mobile Cloud Computing (MCC), since, as suggested by Michael Batty, <em>to understand cities we must view them not simply as places in space but as systems of networks and flows [2]</em>.
                    </p>

                    <h3 class="title"><a name="OriginalContribution">Original Contribution</a></h3>
                    <p>In this dissertation, innovative techniques and methodologies aimed to enhance the performance of <b>MCC</b> applied to a smart city are proposed and investigated. </p>
                    <p>In particular the \gls{UMCC}, a global framework that can be adapted depending on the optimization objectives is introduced, highlighting the features that can affect the \gls{QoS} of various types of smart city related applications.</p<p>
                    <p>Furthermore, various optimization techniques, based on opportunely defined cost or utility functions, are presented and inspected for the optimization of the resources in the \gls{UMCC}.</p>
                    <p>Specifically:</p>
                    	<ul>
                    		<li>a partial offloading tecnique is determined for optimizing time and energy consumption in a smart city \glspl{HetNet} scenario, where smart mobile devices are supposed to perform a distributed application;</li>
                    		<li>a utility function model derived from the economic world has been presented, aiming to measure the \gls{QoS}, in order to choose the best access point in a \gls{HetNet} for offloading part of an application on the \gls{MCC};</li>
                    		<li>a cluster-based optimization technique is proposed and utilized in a distributed computing resource allocation, exploiting resource sharing, in high density \gls{SMD} environments.</li>
                    	</ul><br>

					<p>During my Ph.D. course I had the opportunity to collaborate with the Internet Interdisciplinary Institute (IN3) at the Open University of Catalonia (UOC), where I contributed to  develop new optimization heuristics for improving heterogeneous communication systems. <br />
					The applied approach is based on the use of biased randomization techniques, which have been used in the past to solve similar combinatorial optimization problems in the fields of logistics, transportation, and production.<br />
					This work extends their use to the field of smart cities and mobile telecommunications. Some numerical experiments contribute to illustrate the potential of the proposed approach. </br />The outcomes of this research stay are described in \autoref{chap:socialBRA}. 

					<h4><a name="PersonalPublications">Personal Publications</a></h4>
						<ol>
                    		<li><a class="publication" name="p1">
                    			D. Mazza, A. Pages, D. Tarchi, A. Juan, and G. E. Corazza, "A biased-randomized algorithm for mobile cloud computing in smart cities," <i>Systems Journal, IEEE, Oct. 2015 (SUBMITTED TO).</a></i></li>
                    		<li><a class="publication" name="p2">
                    			D. Mazza, D. Tarchi, and G. Corazza, "A cluster based computation offlooading technique for mobile cloud computing in a smart city scenario,"<i> in Proc. of IEEE Conference on Communication (ICC) 2016, Kuala Lumpur, Malaysia (SUBMITTED TO).</a></i></li>
                    		<li><a class="publication" name="p3">
                    			D. Mazza, D. Tarchi, and G. E. Corazza, "A user-satisfaction based
                    			offloading technique for smart city applications,"<i> in Proc. of IEEE Globecom 2014, Austin, TX, USA, Dec. 2014.</a></i></li>
                    		<li><a class="publication" name="p4">
                    			D. Mazza, D. Tarchi, and G. E. Corazza, "A partial offloading technique for wireless mobile cloud computing in smart cities,"<i> in Proc. of 2014 European Conference on Networks and Communications (EuCNC), Bologna, Italy, Jun. 2014.</a></i></li>
                    		<li><a class="publication" name="p5">
                    			G. Avanzolini, A. Cappello, and D. Mazza, "Comparative evaluation of three elastance-resistance models of left ventricular mechanics,"<i> Computers in Cardiology, in Proceedings of, Sep. 1991, pp. 653-656.</a></i></li>

                    	</ol><br>

                    <h3><a name="Acknowledgments">Acknowledgments</a></h3>
                    <p>This Ph.D. dissertation was carried out during three years of my life in which not only I have gained knowledge and accomplished an academic path, but also I have had the opportunity to proof and enrich my personality. I would like to thank Prof. Giovanni Emanuele Corazza and Prof. Daniele Tarchi for their precious advice and support during my Ph.D. studies. They helped me during every step of my work with unmatched competence and patience.</p>
                    <p>A sincere thanks goes to Prof. &Aacute;ngel Alejandro Juan P&eacute;rez and Prof. Adela P&aacute;ges Bernaus for giving me the chance to work with them at the DPCS IN3 Lab of the Open University of Catalonia: for their collaboration and for being always available to share projects and ideas and because my stay in Barcelona has been a unique experience for me, both professionally and personally.</p>
                    <p>I am also deeply grateful to Prof. Alessandro Vanelli Coralli, Coordinator of the Ph.D. Program in Electronics, Telecommunications, and Information Technologies, for making it possible to carry out this work. </p>
                    <p>A special acknowledgment goes also to all my colleagues that shared with me many important moments during my time at the University of Bologna - Roberta, Sergio, Vahid, Vincenzo - and at the Internet Interdisciplinary Institute IN3 in Barcelona - Aljoscha, Carlos, Jesica, Laura, Helena.</p>
                    <p>I also want to thank the reviewers of this thesis, Prof. Flavio Bonomi and Prof. Mohsen Guizani, for their many suggestions and help for greatly improving the quality of this work.</p>
                    <p>Infine, il pi&uacute; grande ringraziamento va alla mia famiglia. Grazie a Gabriele, mio compagno di vita, per aver condiviso la mia esperienza e per avermi supportato e incoraggiato, ai miei genitori, per avermi infuso l'amore per lo studio e la ricerca, e a mio figlio Alessandro, che sempre mi ha dato la forza per continuare.<p>

                    	<h2><a name="part1"> Part I - Urban Mobile Cloud Computing: a framework at the service of smart cities</a></h2>
                    	<p>Innovative projects of smart cities, aiming to make effective a vision where cities can use technology to meet sustainability goals, boost local economies, and improve urban services, have been adopted in the political agenda of many governments as a primary program, in a large number of developed and developing countries.</p>
                    	<p>The ever-growing demand for services from citizens and institutions, intending to make the cities \textit{smarter} and improve the quality of life of the communities, has given a great boost to the conception of diverse wireless communication systems and has extended the envision of cloud architectures for providing infrastructures (\gls{IaaS}), platforms (\gls{PaaS}), and software (\gls{SaaS})\cite{CCTaxonomy,fantacci09} , offering computation, storage and network and going towards the integration with novel opportunistic communications as fog networking~\cite{opportunistic, Bonomi2012, Bonomi2014}.</p>
                    	<p>In order to  interact with city services, \gls{MCC} and wireless \glspl{HetNet} contribute in different and sinergic way for handling this smart city scenario, allowing ubiquitous and pervasive computing in a framework we called \gls{UMCC}.</p>
                    	<p>In this first part of the dissertation, the proposed \gls{UMCC} system model is described and investigated. It takes into account a series of features related to \gls{HetNet}'s nodes, cloud architectures, \glspl{SMD}' characteristics, in association with several types of application and goals - mobility, healthcare, energy and waste management, and so on. It can be employed in the optimization of the \gls{QoS}'s requirements related to the needs of citizens.</p> 
                    	<p>Smart cities applications are gaining an increasing interest among administrations, citizens and technologists for their suitability in managing the everyday life. One of the major challenges is managing in an efficient way the presence of multiple applications in this \gls{UMCC} framework, in a Wireless \gls{HetNet} environment, alongside the presence of a \gls{MCC} infrastructure. </p>
                    	<p>The content of the following chapter was extracted from publications <a href=#p1>[P1]</a>, <a href=#p2>[P2]</a> and <a href=#p3>[P3]</a>.</p>


                    	<h3><a name="chap1">1. The Urban Mobile Cloud Computing (UMCC) Architecture</a></h3>
                    	<p>
                    	<h4><a name="c1.s1">1.1 Introduction to the UMCC in a smart city scenario</a></h4>
                    	<p>The increasing urbanization level of the world population has driven the development of technology toward the definition of a smart city geographic system, conceived as a wide area characterized by the presence of a multitude of smart devices, sensors and processing nodes aiming to distribute intelligence into the city; moreover, the pervasiveness of wireless technologies has led to the presence of heterogeneous networks operating simultaneously in the same city area. One of the main challenges in this context is to provide solutions able to optimize jointly the activities of data transfer, exploiting the heterogeneous networks, and data  processing, by using different types of devices. In this chapter, the \gls{UMCC} framework is introduced, considering a mobile cloud computing model that describes the flows of data and operations taking place in the smart city scenario.</p> 

						<p>The challenges and the opportunities of exploiting the \gls{UMCC} are discussed in relation to smart city solutions, highlighting the features that can affect the \gls{QoS} of various types of smart city related services.</p>

						<p>The  \gls{UMCC} sprang from the \gls{MCC}, that is gaining an increasing interest in the recent years, due to the possibility of exploiting both cloud computing and mobile devices for enabling a distributed cloud infrastructure~\cite{DinhSurvey}.<br> 
						Considering the peculiarity of the  \gls{MCC}, we can observe that, on one hand, the cloud computing idea has been introduced as a mean for allowing a remote computation, storage and management of information, and, on the other hand, the mobility skill allows to gain by the most modern smart devices and broadband connections for creating a distributed and flexible virtual environment. <br>
						At the same time, the recent advances in the wireless technologies are defining a novel pervasive scenario where several heterogeneous wireless networks interact among them, giving the users the ability to select the best network among those present in a certain area.<br>
						As a consequence, the development of the \gls{UMCC} is introduced, gaining from both computing and wireless communication technologies. It is a challenging opportunity for the creation of smart city infrastructures, providing solutions fulfilling the urgent need for richer application and services, requested from citizens that, as mobile users, are facing many demanding tasks in relation to mobile device resources as battery life, storage and bandwidth. 
						<h5>The triple role of Smart Mobile Devices</h5>
						<p>By analyzing the technology systems underlying a smart city framework, mobile devices can be considered in a three-fold way, as illustrated in \autoref{fig:SMDclassification}:
						<ul>
							<li><b>Sensors</b> <br>They can acquire different types of data regarding the users and the environment, transmitting a large amount of information to the cloud in real time, by means of wireless communication systems. 
							This is the underlying concept of \gls{IoT}, profitably exploited to improve urban life, for instance for extracting descriptive and predictive models in the urban context of cities~\cite{IoTCC}.</li>

							<li><b>Nodes:</b> <br>They can form distributed mobile clouds where the neighboring mobile devices are merged for resource sharing, becoming integral part of the network. 
							Furthermore, they can form \glspl{VCN} offering content routing, security, privacy, monitoring, virtualization services~\cite{Gerla}, easy to be used for providing smart city services and applications, in particular for traffic and mobility control. 
							This is the crucial concept of fog networking, where a collaborative multitude of users carry out a substantial amount of storage, communication, and data management in a collaborative way.</li>

							<li><b>Outputs:</b> <br>They can make the citizens aware of results and able to decide consequently, or become actuators without need of human intervention. This is the concept underlying \gls{M2M} communications where computers, embedded processors, smart sensors, actuators and mobile devices acquire information and act in an autonomous way~\cite{M2M}.</li>
						</ul>
						<br>
						<p>To perform this triple role, mobile devices have to become part of an infrastructure that is constituted by different cloud topologies and, at the same time, have to exploit heterogeneous wireless link technologies, allowing to address the different requirements of a smart city scenario. This infrastructure starts from the concept of \gls{MCC}, where the cloud works as a powerful complement to resource-constrained mobile devices.</p>

  					    <figure>
							<a name="SMDclassification" class="fancybox" href="png/SMDclassification.png">
								<img src="png/SMDclassification_pic.png" alt="" />
							</a>
						<figcaption>Fig 1.1 - Mobile devices acting in the UMCC framework as (a) sensors, (b) nodes, (c) outputs.</figcaption>
						</figure>

						<p>The vision of \gls{MCC} has increasingly become a source of interest, beginning from the early 2000s, when Amazon realized that a huge amount of space on their premises was underused. 
						This awareness pushed toward the implementation of remote services, gaining by the presence of storage space and computing power and creating a cloud system. 
						Alongside with the expansion of wireless technologies, the cloud computing has been integrated through a broadband system, exploiting the opportunity of working in mobility. 
						The \glspl{SMD}, then, can use \gls{MCC} devolving demanding tasks and referring to it for data storage.</p>
						<h5>Computation Offloading</h5>
						<p>The strategy allowing to delegate to one or more cloud computing elements storage and computing functions is commonly called \emph{cyberforaging} or \emph{computation offloading}. It allows to tackle with the limited battery power and computation capacity of the \glspl{SMD}, and plays a key role in a smart environment where wireless communication is of utmost relevance, particularly in mobility and traffic control domains~\cite{Barbarossa2014}.
						If the storage is one of the most common and legacy activities that can be delegated to a remote cloud infrastructure, recently, thanks to modern programming paradigms, it is possible to allot even only a part of the computation load to a remote unit. 
						This allows users to optimize the system performance by offloading only a fraction of the application to be computed, or distributing the application among different cloud structures. 
						Offloading is an effective network congestion reduction strategy to solve the overload issue compared to scaling and optimisation \cite{Juniper}. It enables network operators to reduce the congestion in the cellular networks, while for the end-user it provides cost savings on data services and higher bandwidth availability.</p>
						<h4><a name="c1.s2">1.2 Cloud Topologies</a></h4> 
						<p>In relation to the \gls{SMD}'s roles previous described, we take into account various cloud topologies. This is a different categorization with respect to the common taxonomy used for cloud computing - \gls{SaaS}, \gls{PaaS} and \gls{IaaS}. It looks on the different interaction among the  nodes that form the cloud, instead of the services provided by the cloud itself, so we can distinguish among centralized cloud, cloudlet, distributed mobile cloud and a combination of all, as shown in \autoref{fig:UMCC_topologies}. 

						<figure>
							<a name="CloudTopologies" class="fancybox" href="png/UMCC_topologies.jpg">
								<img src="png/UMCC_topologies_pic.jpg" alt="Cloud topologies in the UMCC framework: centralized cloud, cloudlet and distributed mobile cloud." />
							</a>
						<figcaption>Fig 1.2 - Cloud topologies in the UMCC framework: centralized cloud, cloudlet and distributed mobile cloud.</figcaption>
						</figure>


						<h5>Centralized Cloud</h5>
						<p>A centralized cloud provides the citizens to interact remotely, e.g., for accessing to open data delivered by the public administrations. It refers to the presence of a remote cloud computing infrastructure having a huge amount of storage space and computing power, virtually infinite, offering the major advantage of the elasticity of resource provisioning. The centralized cloud infrastructure is often used for delivering the computing processes to remote clusters, owing a higher computing power, and/or for storing big amount of data. The centralized cloud allows to reduce the computing time by exploiting powerful processing units, but it could suffer from the distribution latency, due to the data transfer from the users to the cloud and \textit{vice versa}, the congestion, due to the multiple users exploitations, and the resiliency, due to the presence of a single performing infrastructure leading to the \gls{SPOF} issue.</p>


						<h5>Cloudlet</h5>
						<p>One of the main drawback of the centralized cloud is the great distance between the mobile devices, requesting services, and the clusters, performing computation in the cloud. 
						Even if the  \gls{SPOF} issue is often resolved by implementing mirroring or redundancy solutions, the big distance that may occur between users and centralized clouds can be better addressed by means of the introduction of cloudlets, representing small clouds installed in proximity of the users. 
						Furthermore, the inclusion of cloudlets allows a most appropriate sizing depending on the number of contemporary requests of the users. </p>

    					<p>Cloudlets are fixed small cloud infrastructures installed between the mobile devices and the centralized cloud, limiting their exploitation to the users in a specific area. 
						Their introduction allows to decrease the latency of the access to cloud services by reducing the transfer distance at the cost of using smaller and less powerful cloud devices.</p>

						<h5>Distributed Mobile Cloud</h5>
						<p>A third configuration can address the issue of non persistent connectivity, whereas both the previous concepts must assume a durable state of connection. In a distributed mobile cloud the neighboring mobile devices are pooled together for resource sharing~\cite{Fangming}.
						An application from a mobile device can be either processed in a distributed and collaborative fashion on all the mobile devices or handled by a particular mobile device that acts as a server.</p>

						<p>The possibility of implementing a distributed mobile cloud infrastructure has become a reality since the introduction of smarter and powerful mobile devices, e.g., smartphones, tablet, phablet, having the ability, even if limited, of computing and storaging. 
						Moreover, it has to be noted that their number is still increasing, leading to a pervasive presence and allowing to form a \emph{cloud} of pervasive distributed devices that can interact among them.
						This \emph{fog network} architecture uses one or a collaborative multitude of end-user clients or near-user edge devices to carry out a substantial amount of storage (rather than stored in centralized clouds), communication, and control, configuration, measurement and management \cite{Bonomi2012, Bonomi2014}.
						It can be seen as the \emph{fog layer} that encapsulates phisical objects - equipped with computing, storage, networking, sensing, and/or actuating resources - and constitutes a piece of a wider \gls{CARS} architecture \cite{Guizani2014}, a geographically distributed platform that connects many billions of sensors and things, and provides multitier layers of abstraction of sensors and sensor networks, enabling the \gls{SenaaS}. </p>



						<h5>Combination of different topologies</h5>
						<p>The proposed framework foresees the joint exploitation of the three aforementioned topologies. As outlined before, they are characterized by different features, leading to a different usage depending on the scenario. Hence, a joint exploitation could steer to a more efficient usage aiming to achieve the performance goals of a certain application. As it will be better specified below, a smart city scenario is characterized by the presence of a lot of different applications, each one with different characteristics and requirements. An integrated \gls{UMCC} framework composed by centralized clouds, cloudlets and distributed mobile clouds, as shown in \autoref{fig:UMCC_topologies}, allows to respect the application requirements with regard to other solution in a more efficient way.</p>


						<h4><a name="c1.s3">1.3 Types of RATs</a></h4>
						<p>In order to connect the devices, different types of \glspl{RAT} should be taken into consideration, providing a pervasive wireless coverage.</p>
						<p>Multiple \glspl{RAT}, such as \gls{IEEE 802.11}, mobile \gls{WiMAX}, \gls{HSPA+}, \gls{LTE} and \gls{WiFi}, have to be integrated to form a \gls{HetNet}. For enhancing the network capacity, generally there is an increasing interest in deploying relays, distributed antennas and small cellular base stations - \glspl{picocell}, \glspl{femtocell}, etc - indoors in residential homes and offices as well as outdoors in amusement parks and busy intersections. 
						These new network deployments, comprised of a mix of low-power nodes underlying the conventional homogeneous macrocell network, by deploying additional small cells within the local-area range and bringing the network closer to users, can significantly boost the overall network capacity through a better spatial resource reuse. Inspired by the attractive features and potential advantages of \glspl{HetNet}, their development have gained much momentum in the wireless industry and research communities during the past few years. 
						The heterogeneous elements are distinguished by their transmit powers/coverage areas, physical size, backhaul, and propagation characteristics. </p>

						<p>We can basically distinguish between two components, i.e., macrocells and small cells, where the former provide mobility while the latter boost coverage and capacity. </p>

						<h5>Macrocells</h5>
						<p>The distance between the access points (base stations of the macrocells) is usually higher than 500~m. Thanks to this type of base stations the environment is completely covered and the devices can move by minimizing the handover frequency. On the other hand, in macrocells the system suffers for channel fading and traffic congestion. This leads to a lack of stability, not allowing to reach very high data rate. The technology used for this type of cells refers to the cellular networks, e.g. \gls{3G} and \gls{LTE}.</p>

						<h5>Small Cells</h5>
						<p>Small cells are characterized by low power radio access nodes, which have a cover range of about 100-200~m or less. We can distinguish between \glspl{picocell}, for providing hotspot coverage in public places - malls, airports and stadiums - without limits in terms of number of connected devices, and \glspl{femtocell}, for covering a home or small business area, available only for selected devices. \Glspl{picocell} and \glspl{femtocell} have been recently introduced as a way for increasing the coverage and maximize the resource allocation in \gls{LTE} networks. We also consider \gls{WiFi} access points as nodes with a small cover range (less than 100 m) which can typically communicate with a small number of client devices. However, the actual range of communication can vary significantly, depending on such variables as indoor or outdoor placement, the current weather, operating radio frequency, and the power output of devices.</p>

						<h4>1.4 Challenges of the UMCC</h4>
						<p>The \gls{UMCC} approach foresees the definition of a scenario where smart city applications can exploit jointly the three topologies, as shown in \autoref{fig:offloading-distribution}, by distributing and performing among the different parts composing the framework. 
						The application requested by a particular \gls{SMD}, signed as the \gls{RSMD}, is partitioned and distributed among the different clouds using the available \glspl{RAT}. In the example of \autoref{fig:offloading-distribution},  the application is divided among the centralized cloud, two cloudlets, and a distributed cloud formed by five devices. Furthermore, part of the application can be computed locally by the \gls{RSMD} itself.</p>
						<p>The main issue is that, for transferring data from the requesting mobile device to the selected cloud topology, a certain time is required. 
						This mostly depends on some communication parameters of the selected \gls{RAT}, such as the end-to-end throughput, the amount of users, the \gls{QoS} management of a certain transmission technology between the user device and each type of cloud processing unit. 
						Furthermore, in terms of energy consumption, it should be taken into account the tradeoff between the energy saved in offloading part of the application to the cloud and the energy spent in sending the data. </p>


						<figure>
							<a name="OffloadingDistribution" class="fancybox" href="png/offloading-distribution.jpg">
								<img src="png/offloading-distribution_pic.jpg" alt="Fig 1.3 - The process of distributing and performing the application among different parts of the UMCC." />
							</a>
						<figcaption>Fig 1.3 - The process of distributing and performing the application among different parts of the UMCC.</figcaption>
						</figure>

						<p>Hence, when a \gls{RSMD} needs to select the clouds infrastructures to be used for computing the smart city application, two main elements have to be taken into account:</p>
							<ul>
								<li>the processing and storage devices - smart mobiles, \textit{per se} or together forming distributed mobile clouds, and cloud servers, constituting the cloudlets and the centralized cloud;
								</li>
								<li>
									the wireless transmission equipments, - different \gls{RAT} nodes entailing diverse transmission speeds in relation to their own channel capacity and to the number of linked devices.
								</li>
							</ul>
							<br>
						<p>In \autoref{fig:offloading-distribution}, the  \gls{UMCC} framework is sketched by representing the functional flows of the architecture. Whenever a smart city application should be performed, the citizen within the \gls{UMCC} can select among different \gls{MCC} infrastructures, i.e., centralized clouds, cloudlets, and distributed mobile clouds, aiming to respect the requirements of the specific application depending on their features. 
						The distribution depends on the application requirements, and the  \gls{UMCC} features; its optimization will be discussed in the Section \ref{sec:cost}.</p>

						<h5>Computation, storage, and tranmission features</h5>
						<p>The features of the selected processing and storage devices, considered \textit{per se} or in a group forming cloud/cloudlets, are: </p>
						<ul>
						    <li><b><i>Processing Speed: </i></b> The processing speed corresponds to the performance speed of a device or a group of devices for processing the applications;</li>
							<li><b><i>Storage Capacity: </i></b> The storage capacity corresponds to the amount of storage space provided by a device or a group of devices.</li>
						</ul>
						<p>
						<p>In the same time, the features of the transmission equipments to be taken into account are: </p>
						<ul>
						    <li><b><i>Channel Capacity: </i></b> The nominal bandwidth of a certain communication technology that can be accessed by a certain device;</li>
							<li><b><i>Priority/QoS management: </i></b> The ability of a certain communication technology to manage different \gls{QoS} and/or priority levels;</li>
							<li><b><i>Communication interfaces: </i></b> The number of communication interfaces of each device, that impacts on the possibility of selection among the available heterogeneous networks.</li>
						</ul>


						<h4>1.5 The UMCC model</h4>
						<p>In this paragraph we focus on the different entities playing a role in the \gls{UMCC} framework, describing the functions and the interactions among them. First of all, we are focusing on an application ${App}$ requested by a \gls{RSMD}, defined through the number of operation to be executed, $O$, the amount of data to be exchanged, $D$, and the amount of data to be stored, $S$. An application can be seen as a smart city service, that can be executed either locally or remotely by exploiting the cloud infrastructures. Furthermore, each application has many requirements regarding the levels of \gls{QoS}. We have taken into account the following:</p>
						
						<ul>
						    <li>the maximum accepted latency $T_\textit{app}$, intended as the interval between the request of performing an application and the acquisition of its results by the \gls{RSMD},</li>
							<li>the minimum level of energy consumption $E_\textit{app}$, that the \gls{RSMD} necessarily uses for performing the application itself,</li>
							<li>the throughput $\eta_\textit{app}$, intended as the minimum bandwidth that the application needs for being performed.</li>
						</ul>
						
						<p>Hence, for highlighting the $\textit{App}$ dependence from the above measures, we can write: </p>
						
						\begin{equation} 
							App = App(O,D,S,T_\textit{app},E_\textit{app},\eta_\textit{app})
						\end{equation}

						<p>A foundamental entity acting in the system is the \gls{RSMD} requesting the $\textit{App}$, we named $\textit{Dev}$, characterized by certain features that are involved in the offloading operation: the power to compute applications locally, $P_l$, the power used for transferring data towards clouds, $P_{\textit{tr}}$, the power for idling during the computation in the cloud, $P_{\textit{id}}$, the computing speed to perform locally the computation, $f_{\textit{l}}$, and the storage availability, $H_{\textit{l}}$. Furthermore, also the time-varying position of the device plays an important role in the system interactions. Hence, we can write:</p>
						
						\begin{equation}  
							Dev = Dev(P_l, P_{\textit{tr}}, P_{\textit{id}}, f_{\textit{l}}, H_{l}, pos_{\textit{dev}}(x, y))
							\label{eq:Dev}
						\end{equation} 
						
						<p>Focusing on the different types of cloud entities in our scenario, we considered a unique centralized cloud $C_{\textit{cc}}$ and various cloudlets $C_{\textit{cl}}$ characterized by their own computing speed to perform the computation, i.e., $f_\textit{cc}$  for the centralized cloud and  $f_\textit{cl}$  for the cloudlets. Additionally, the storage availability  $H_\textit{cl}$ of each cloudlet has to be taken in consideration, while the storage availability of the centralized cloud can be considered infinite, therefore not constraining in the interaction. Hence, we can write for the centralized cloud $C_{\textit{cc}}$:</p>
						
						\begin{equation}
						\label{eq:Ccc}
						C_{\textit{cc}} = C_{\textit{cc}}(f_{\textit{cc}})
						\end{equation}
						
						<p>and for each cloudlet, considering also the influence of the position $pos_\textit{cl}(x, y)$ of the in-built \gls{AP}, the end-to-end throughput $\eta_{\textit{cl}}$ provided by the \gls{AP} itself, the maximum number of devices that it is possible to connect at the same time $n_\textit{cl}$, and the range of action $ r_{\textit{cl}}$: </p>
						
						\begin{equation}
						\label{eq:Ccl}
						C_{\textit{cl}} = C_{\textit{cl}}(f_{\textit{cl}}, H_{\textit{cl}},  pos_{\textit{cl}}(x, y), \eta_{\textit{cl}}, n_\textit{cl}, r_{\textit{cl}})
						\end{equation} 
						
						We are considering the system from the point of view of a single \gls{RSMD} requesting to run an application, while the set of the other \glspl{SMD} constituting the distributed cloud are providing a service for supporting the  \gls{RSMD}. Thus, the distributed cloud is a set of generic entities $\textit{MD}s$, each characterized by its specific connectivity, computation and storage for the exchange of data, i.e. the computing speed $f_{\textit{MD}}$, the storage availability $H_{\textit{MD}}$, the position $pos_{\textit{MD}}(x, y)$, the throughput $\eta_{\textit{MD}}$, the number of devices that can be connected to each device$n_{\textit{MD}}$,  and each range of action $r_{\textit{MD}}$. Thus, we can write for the generic device $\textit{MD}$:</p>
						
						\begin{equation}  
							\label{eq:SMD}
							\textit{MD} = \textit{MD}( f_{\textit{MD}}, H_{\textit{MD}}, pos_{\textit{MD}}(x, y), \eta_{\textit{MD}} ,  n_{\textit{MD}},  r_{\textit{MD}} )
						\end{equation}
						
						<p>While the connection to the cloudlets can be made only through the unique \gls{AP} that can be considered built-in in each cloudlet itself, and the connection of the distributed cloud to the \gls{RSMD} can be made directly, the nodes of the \gls{HetNet} offer different choices to connect towards the centralized cloud. Thus, for each involved node $\textit{Nod}$ constituting the centralized cloud, specifying that $pos_\textit{Nod}(x,y)$ is the position of the node, $\eta_\textit{Nod}$ is the end-to-end throughput in bit per second  between the user and the exploited node, $n_\textit{Nod}$ is the number of devices available to connect, and $r_\textit{Nod}$ is the range of availability of the node, we can write:</p>
						
						\begin{equation}
						   \label{eq:Nod}
						   \textit{Nod} = \textit{Nod}(pos_{\textit{Nod}}(x, y), \eta_{\text{Nod}} ,  n_{\text{Nod}},  r_{\text{Nod}})
						\end{equation}
						
						<p>The \autoref{tab:entities} summarizes the entities and the characteristics above described. </p>
						
						<figure>
							<a name="" class="fancybox" href="png/entitiesTable.PNG">
								<img src="png/entitiesTable.PNG" alt="Summary of entities and relations in the UMCC - Involved features and requirements" />
							</a>
						<figcaption>Summary of entities and relations in the UMCC - Involved features and requirements</figcaption>
						</figure>
						
						<p>They are in a certain relationship due to some physical and logical constraints derived from the following considerations. </p>
						<p>First, for distributing the computation of the application among the different types of clouds, the system has to evaluate which \gls{HetNet} nodes, cloudlets, and \glspl{SMD} are available. The availability is realized if the \gls{RSMD} is in the range of action of a particular \gls{HetNet} node, cloudlet or \gls{SMD} and if these entities are not busy, i.e., if the number of devices connected to an entity $n_\text{conn}$ is less than $n_\textit{Nod}$, $n_\textit{cl}$, or $n_\textit{MD}$, dependently from the type of entity.</p>
						
						<p>Thus, there are $M$ available \gls{HetNet} nodes $\textit{Nod}$ for offloading towards the centralized cloud,  $N$ cloudlets $C_{\textit{cl}}$ and $K$ devices $\textit{MD}$, able to share the computation in the distributed cloud. After the detection of the available entities (which are a total of $1+M+N+K$, including the local node \gls{RSMD}, which we consider for simplicity the node of index 0), the next step is to distribute, by means of all these entities, different percentages $\alpha_i$  of operations $O$, $\beta_i$ of data $D$, and $\gamma_i$ of memory $S$, to all the available nodes, cloudlets and devices, under the constraints:</p>
						
						\begin{equation}
						\label{eq:alpha}
						\sum_{i=0}^\textit{M+N+K} \alpha_i = 1
						\end{equation}
						
						<p>and</p>
						
						\begin{equation}
						\label{eq:beta}
						\sum_{i=1}^\textit{M+N+K} \beta_i = 1
						\end{equation}
						
						<p>Alongside the computing capacity, it is possible to define a constraint regarding the storage availability of the cloudlets and the \glspl{SMD} by means of the following equations, considering infinite the storage availability of the centralized cloud:</p>
						
						\begin{equation}
						\label{eq:storage}
						\gamma_i S \le H_i \quad \quad \forall i \in \{0,1,...,i,..., \textit{N+K}\}
						\end{equation}
						
						<p>that stands for an upper limit of remotely used storage of a certain $i$-th cloud infrastructure.</p>
						
						<p>A constraint related to the application's requirements $\eta_\textit{app}$ involves the throughput of the entities designated for the offloading: the overall throughput offered by the selected devices should be higher than the minimum throughput requirement of a certain application:</p>

						\begin{equation}
						\label{eq:throughput}
						\sum_{i=1}^\textit{M+N+K} \eta_i \ge \eta_\textit{app}
						\end{equation}
						
						<p>From the point of view of the \gls{RSMD}, the energy spent for offloading the application can be written as the sum of the energy spent to perform locally a part of the task, plus the energy spent by the \gls{RSMD} for the transmission of data to the clouds, plus the energy spent during the idle period when the computation is being offloaded. Hence, the restriction related to the requirement $E_\textit{app}$ leads to the following:</p>
						
						\begin{equation}
						\label{eq:energy}
						P_l \frac{\alpha_0 O}{f_l}  + \sum_{i=1}^\textit{M+N+K}{P_\textit{tr}\frac{ \beta_i D}{\eta_i} + P_\textit{id}  \operatorname*{arg\,max}_{i =1,\textit{M+N+K}}\left \{ \frac{\alpha_i O }{f_i} \right \}}\le{E_\textit{app}}
						\end{equation}
						
						<p>In the same time, the total latency is the sum of the time for computing locally the $\alpha_0$ percentage of computation, plus the times to transmit/receive data to/from the other computation units, plus the maximum of the time to compute in offloading. Hence, the restriction related to the requirement $T_\textit{app}$ leads to the following:</p>
						\begin{equation}
						\label{eq:latency}						T=t_l^{\text{comp}}+t_{cc}^{\text{tr}}+t_{cc}^{\text{comp}}+t_{cl_j}^{\text{tr}}+t_{cl}^{\text{comp}}+t_{dc_j}^{\text{tr}}+t_{dc}^{\text{comp}}\\
						\alpha_0 \frac{O}{f_l}+ \sum_{i=1}^\textit{M+N+K} \frac{ \beta_i D}{\eta_i} +  \operatorname*{arg\,max}_{i =1,\textit{M+N+K}}\left \{ \frac{\alpha_i O }{f_i} \right \}\le{T_\textit{app}}
						\end{equation}
						
						<p>Furthermore, the throughput $\eta_i$ is related to the number of devices $n_i$ connected to the $i^{th}$ entity and the channel capacity $BW_i$ as shown by the following representing the Shannon Formula:</p>
						
						\begin{equation}
						\eta_i = \frac{\textit{BW}_i}{n_i}\cdot \log_2{\left(1+\frac{\textit{SNR}_i}{d_i^2}\right)}
						\label{eq:shannon1}
						\end{equation} 
						
						<p>where $\textit{SNR}_i$ is the \gls{SNR} of the related link and $d_i$ the distance between the receiver and the transmitter. Thus, the optimization of the system consists in finding the values of $\alpha_i$, $\beta_i$ and $\gamma_i$ that satisfy eqs.~\eqref{eq:alpha}-(\ref{eq:shannon1}). This is a nontrivial optimization problem, but the complexity can be decreased with the introduction of some simplifications, as presented in the following chapters.</p>
						
						<h4>1.6 Requirements of smart city applications</h4>
						<p>There are many taxonomies trying to define smart city key areas, where social aims, care for environment, and economic issues are related and interconnected. The \gls{IERC} has identified in~\cite{IERC} a list of applications in different domains of \gls{IoT}, including the smart city domain, showing the utmost strategic technology trends for the next five years. Moreover, the Net!Works European Technology Platform for Communications Networks and Services has issued a white paper~\cite{whitepaperNetWorks} aiming to identify the major topics of smart cities that will influence the \gls{ICT} environment. Furthermore, a relevant document aiming to categorize and define the different applications has been released by \gls{ETSI}, where several application types have been specified focusing on their bandwidth requirements~\cite{etsi}. </p>
						
						<p>Taking into account all the relevant observations presented in these essays, we analyzed some particular smart city applications covering the areas of mobility, healthcare, disaster recovery, energy, waste management and tourism, in order to leverage the \gls{UMCC} identifying the requirements which are related to the \gls{QoS}. </p>
						
						<p>Each application is defined through the service provided to the citizens, concerning the requirements in terms of throughput, energy consumption, time due to the transferring and computation processes, and number of users. In addition, for every application, the typical requirements of processing, data to exchange and storage have been established. The following list summarizes the definition of these requirements: </p>
						
						<li>
							<ul><b><i>Latency: </i></b> The latency is defined as the amount of time required by a certain application between the event happens and the event is acquired by the system;</ul>
							<ul><b><i>Energy Consumption: </i></b> The energy consumption corresponds to the energy consumed for executing a certain application locally or remotely;</ul>
							<ul><b><i>Throughput: </i></b> The throughput corresponds to the amount of bandwidth required by a specific application to be reliably installed in the smart city environment;</ul>
							<ul><b><i>Computing: </i></b> The computing corresponds to the amount of computing process requested by a certain application;</ul>
							<ul><b><i>Exchanged data: </i></b> The exchanged data correspond to the amount of input, output and code information to be transferred by means of the wireless network;</ul> 
							<ul><b><i>Storage: </i></b> The storage corresponds to the amount of storage space required for storing the sensed data and/or the processing application;</li>
							<ul><b><i>Users:  </i></b> The users correspond to the number of users for achieving a reliable service.</ul>
						</li>
						<p>
						<p>The \gls{QoS} is a function of the previous requirements, where each one of these plays a role less or more important depending on the aims of the application. In the following list the considered application types are described by highlighting their technological requirements and characteristics, while in \autoref{tab:applications1} the considered application types and the significance of their requirements are summarized. </p>
						
						<figure>
							<a name="scenario1" class="fancybox" href="png/SmartCityApplicationRequirements.PNG">
								<img src="png/SmartCityApplicationRequirements.PNG" alt="Summary of smart city applications and Requirements" />
							</a>
						<figcaption>Summary of smart city applications and Requirements</figcaption>
						</figure>
						
						<h5>Mobility</h5>
						<p>All the components in an intelligent transportation system could be connected to improve transportation safety, relieve traffic congestion, reduce air pollution and enhance comfort of driving. The three-layered hierarchical cloud architecture for vehicular networks proposed by Yu et al.~\cite{Vehicular}, where vehicles are mobile nodes that exploit cloud resources and services, can be considered as included in the \gls{UMCC} framework. A real-time navigation with computation resource sharing, where the computation resources in the central cloud are utilized for data traffic mining, requests a minimal latency, since a ready response is needed. On the other hand, considering that the great part of mobile devices can be recharged directly from the car, energy consumption has to be considered only for pedestrians and bicycles. The necessary throughput, the computational load and the amount of data to exchange are high, whereas we can think the storage as a secondary requirement, unless for security recording.</p>
						
						<h5>Healthcare</h5>
						<p>Intelligent and connected medical devices, monitoring physical activity and providing efficient therapy management by using patients' personal devices, could be connected to medical archives and provide information for medical diagnosis. We considered in the \gls{UMCC} framework the typical architecture proposed by He et al.~\cite{HEALTH}, requiring a full integration of the clinical devices and efficient processing of the collected data, considering, for instance, a cloudlet nearby the home of the patient. In this case there are relatively low requirements regarding energy consumption, throughput and number of users, whereas the requirements of latency, computation, exchanged data and storage are high, considering the complexity of the management algorithm, the video monitoring for remote diagnosis and the data to store for the personal record archive.</p>
						
						<h5>Disaster Recovery</h5>
						<p>In \cite{Satyanarayanan} a disaster relief scenario is described, where people are facing with the destruction of the infrastructures and local citizens are asked to use their mobile phones to photograph the site. 
						Also this case introduces the three-layered cloud described in the \gls{UMCC} framework, requiring to transmit a lot of data using the cameras provided by the smartphones to reconstruct the disaster scene. In this case there are relatively low requirements regarding throughput, whereas it is important to have a quick response and to save the energy of the devices. There are a lot of computation to reconstruct the scene and a lot of data to exchange and to store. The number of users is variable.
						
						<h5>Energy</h5>
						<p>Energy saving can take advantage from the cloud basically thanks to smart grid systems, aimed to transform the behavior of individuals and communities towards a more efficient and greener use of electric power. Data fusion and mining, as well as scheduling and optimization, are critical in order to include the use of wireless communications to collect and exchange information about electric quality, consumption, and pricing in a secure and reliable fashion. By analyzing the specific aspects regarding the \gls{UMCC}, if we consider an application where vehicles are involved in a smart grid system, we can suppose that a big data exchange is needed, there is a lot of computation and storage between a large number of users, whereas there are relatively low requirements regarding latency and throughput, and energy saving is not a problem for the devices involved.
						
						<h5>Waste Management</h5>
						<p>Automatically generated schedules and optimized routes which take into account an extensive set of parameters (future fill-level projections, truck availability, traffic information, road restrictions, etc.) could be planned not only looking at the current situation, but also considering the future outlook. A logistic solution that uses wireless sensors to measure and forecast the fill-level of waste and recycling containers could combine fill-level forecasts with an extensive set of collection parameters (e.g., traffic information, vehicle information, road restrictions) in order to calculate the most cost efficient collection plan. This smart plan would be automatically generated and accessed by the driver through a tablet\footnote{Example from \url{http://www.enevo.com/}}. We can expect non-restrictive requirements of latency and throughput, whereas  resource-poor equipments have to be taken into consideration. The requirements related to data to be exchanged, load of computation, storage and number of users are not critical.</p>
						
						<h5>Tourism</h5>
						<p>Augmented reality and social networks are the characteristics of applications that more take advantage from the cloud, that becomes also useful for mobile users sharing photos and video clips, tagging their friends in popular social networks like Twitter and Facebook. The cloud is effective also when mobile users require searching services, also using recognition techniques (using voice, images and keywords)\footnote{Example from \url{http://www.mtrip.com/augmented-reality/}}. We can expect not-restrictive requirements of latency and throughput, whereas  resource-poor equipments have to be taken into consideration. There are a great amount of data to be exchanged, load of computation and storage and number of users are variable.
						
						<h4>1.7 A utility based resource optimization approach</h4>
						<p>The requirements related to the applications, and the associated \gls{QoS}, can be respected by optimizing the application partitioning and node/cloud association based on the features of the processing and storage devices and of the transmission equipments introduced in \autoref{sec:challenges}. Moreover, it should be noted that there is a correlation among the application requirements and the features of the \gls{UMCC} equipments. </p>
						<p>The latency suffered to perform a certain application can be seen as composed by the time needed for transferring the application data to the cloud computing infrastructure and the time needed for the cloud computation, therefore it is affected by the processing speed of the involved devices and by the channel capacity and the communication interfaces of the chosen transmission equipments. Furthermore, the energy spent to perform an application depends on the time needed for the data transfer, thus it depends on the channel capacity and the number of communication interfaces of the communication equipments; it has to be noticed that we have to consider also the energy spent by the user device while idles during the cloud computation, so that the processing speeds of the cloud devices are involved. The storage value of the application does not influence directly the performance of the system, but it can represent a limitation for the usability of a certain cloud infrastructure, as well as the number of potential users of the application.</p>
						<p>A feasible optimization regarding the computing and the exchanged data requirements can be performed by operating on the complexity of the computability resources, considering also that, in partial offloading, the exchanged data could not be a predetermined value~\cite{Challenges}. </p>
						<p>In this context, a utility function aiming to optimize the application-dependent \gls{QoS} is proposed, acting as input for a procedure of partition and a node/cloud association, as shown in \autoref{fig:FunctionalBlocks}. The utility function can be written as:</p>
						
						\begin{equation}
						U =  \sum_{i=1}^{N_{req}}\gamma_i f_i(\xi_i)
						\label{eq:global-utility}
						\end{equation}
						
						<p>where $N_{req}$ is the number of requirements for a certain smart city application, $\xi_i$ stands for the $i$-th application requirement among those defined in \autoref{sec:requirements}, and $\gamma_i$ is a weight value, while $f_i(\cdot)$ corresponds to a specific utility function used for evaluate the respect of the $i$-th requirement. </p>
						
						<p>In \autoref{fig:FunctionalBlocks}, the functional blocks of the \gls{UMCC} framework, based on a utility function optimization, are represented. On one hand, the smart city applications define specific requirements, while the cloud topologies in a certain scenario set their features. The utility function aims at selecting those cloud topologies that allow to respect the requirements by setting an optimized distribution of the application itself. The optimization of the partition and the node association will impact again on the \gls{UMCC} features to be used by the other applications.</p>
						
						<figure>
							<a name="blockscheme" class="fancybox" href="png/blockscheme.PNG">
								<img src="png/blockscheme.PNG" alt="The utility function acts for distributing and performing the application in different parts of the Urban MCC." />
							</a>
						<figcaption>The utility function acts for distributing and performing the application in different parts of the Urban MCC.</figcaption>
						</figure>
						
						<p>The maximization of the introduced utility function could be a nontrivial optimization problem, depending on the considered number of applications and devices acting in the selected scenario. In relation to the introduced requirements, the number of constraints could be reduced, and the complexity of the problem decreased by introducing opportunely defined sub-optimal solutions. All the utility and cost functions presented in the following chapters are particular cases of the \autoref{eq:global-utility}. In particular, in \autoref{chap:EUCNC}  a cost function including the tradeoff between energy consumption of mobile devices versus the time to offloading data and to compute tasks on a centralized remote cloud server is provided, evaluating the optimal offloading fraction depending on the networkâ€™s load; in \autoref{chap:GLOBECOM14} and in \autoref{chap:socialBRA} we focused on a utility function representing the \gls{QoS} degree perceived by the user, modeled as a sigmoid curve, that is a well-known function often used to describe \gls{QoS} perception~\cite{Badia}; finally, in \autoref{chap:cluster-based} we focused on the computation offloading towards the distributed cloud, for offloading a real-time navigation application in a distributed fashion, aiming to minimize the execution time, since the devices are autonomous regarding the energy provision. 
						
						<h4>1.8 Conclusions</h4>
						<p>In this chapter we introduced the \gls{UMCC} framework, a concept that supports the smart city vision for the optimization of the \gls{QoS} of various types of smart city applications. The \gls{UMCC} consists of different topologies of cloud and diverse types of \glspl{RAT}, that are used for offloading computation and share resources among the mobile devices. The \gls{QoS} depends on the type of application, since it is affected by the defined requirements in a different way depending on the aims of the application itself. A cost function optimization approach is proposed, aiming to select the optimal partition level of the applications and the cloud infrastructures to be used for their computation. The optimization of the \gls{QoS} is influenced by a big number of features, related to the choice of the distribution of data in the cloud units and the nodes used for the transmission, but the problem can be restricted considering some simplifications suggested by the aims and the domain of the application. </p>


						


 <!-- INIZIO III PARTE -->                 
						 
					<h2><a name="part3"> Part III - Optimization Considering a Considering a Community of Devices</a></h2>
						<p>In a typical smart city ecosystem, where a great affluence of mobile devices try to perform applications at the same time, a competition for allocating remote resources occurs, becoming a potential cause of delay and energy consumption. In such a large-scale and dynamic system, relevant optimization challenges concerning the operational assignment of computation offloading become a community issue. Most of these challenges are related to the minimization of the necessary time and energy employed for satisfying the mobile users' requests.</p>
						<p>In this part of the thesis the problem of CA in a UMCC framework is analized, considering the system as a community, thinking about the improvement of the collective performance and not only the one of a single device. In chapter 5 three different methods for solving the offloading-related CA problem are compared: the first leads to the optimal solution, but it requires the complete information about the final position of the requesting devices and, therefore, cannot be used in a realistic scenario with online demands. The other two get sub-optimal solutions, but allow connecting each device on the fly - as new requests appear. The first of these two online algorithms is based on a greedy heuristic which chooses 'the best' network node for each single device - selfish behavior. The second one is a probabilistic algorithm that makes use of biased-randomization techniques [51] in order to enhance the quality of the solution from a social or collective point of view.</p>
						<p><i>The content of the following chapter was extracted from publications [P2] and [P4].</i></p>
						
						<h3><a name="chap5">5. A Social-Aware Biased-Randomized Algorithm for UMCC</a></h3>
                    	<p>
                    	<h4><a name="c5.s1">5.1 Introduction</a></h4>
                    	<p>In this chapter the UMCC is exploited for accomplishing applications in a cooperative way while satisfying the QoS requirements for the citizens involved. By taking into account all users in the assignment process, the proposed biased-randomized algorithm allows to enhance social-aware performance as compared with the greedy approach while, at the same time, it allows for online allocation of resources.</p> 
						<p>Although the computation offloading can significantly increase data processing capability for the single mobile users, it is challenging to achieve an efficient coordination among the entire set of requesting devices when the environment is particularly crowded. In fact, the computation offloading entails data transmission among the devices and the cloud, to make the operation possible. If a great number of users utilize the same wireless resource to delegate computation to the cloud, this operation can affect the effciency of the access node, since its channel capacity has to be shared among all the devices, causing a reduction of the throughput experienced by each user. This can lead to a crucial use of energy and time spent for data transmission, making not convenient the offloading operation [41].</p>
						<p>In this chapter we present a probabilistic method that makes use of biased-randomization techniques to solve the CA problem, i.e. to select, among the available access nodes, the one that increases the system efficiency. This method is compared with the global optimization solution, that is shown to be unacceptable from a point of view of time computation, and with a greedy algorithm [52], that instead implement a selfish behavior in allocating the resources to the users. All the three techniques - the probabilistic, the greedy and the optimal - are based on the definition of a proper cost function that takes into account the different requirements and characteristics of the considered UMCC framework. We will consider, for our example and calculation, the throughput, the energy consumption, and the delay as those parameters that drives the optimal allocation of the resources to be offloaded.</p>
						<p>The novel proposed algorithm improves the solutions and is easy to implement in real time, thus outperforming by far the solutions provided by the heuristic approach. The underlying biased randomization techniques [51] introduces some degree of randomness using a skewed probability distribution and reaching a solution nearer to the optimal without the need of knowing all the SMDs' positions.</p>
						<p>As it will be illustrated in the numerical results, the use of the biased-randomized approach allows to easily enhance the quality of the solutions generated by the original heuristic in different dimensions when considering social or collective performance. It is important to notice that if a uniform probability distribution would be used instead of a skewed one, this improvement would very rarely occur since the logic behind the constructive heuristic would be destroyed and, accordingly, the process would be random but not correctly oriented.</p>
						<p>In the context of combinatorial optimization problems, constructive heuristics use an iterative process in order to construct a `good' and feasible solution. Examples of these heuristics are the savings procedure for the Vehicle Routing Problem [53], the NEH procedure for the Flow-Shop Problem [54], or the Path Scanning procedure for the Arc Routing Problem [55]. In all these heuristics, a `priority' list of potential movements is traversed during the iterative process. At each iteration, the next constructive movement is selected from this list, which is sorted according to some criteria. The criteria employed to sort the list depends upon the specific optimization problem being considered. Therefore, a constructive heuristic is nothing more than an iterative greedy procedure, which constructs a feasible `good' solution to the problem at hand by selecting, at each iteration, the `best' option from a list, sorted according to some logical criterion. Notice that this is a deterministic process, since once the criterion has been defined, it provides a unique order for the list of potential movements. Of course, if we randomize the order in which the elements of the list are selected, then a different output is likely to occur each time the entire procedure is executed. However, a uniform randomization of that list will basically destroy the logic behind the greedy behavior of the heuristic and, therefore, the output of the randomized algorithm is unlikely to provide a good solution.</p>
						
						<h4><a name="c5.s2">5.2 Problem Description</a></h4>
						<p>The environment consists of a urban area with a pervasive wireless coverage, where several mobile devices are interacting with a centralized cloud infrastructure and request for services from a remote data center. In order to connect the SMDs to the cloud, the presence of different types of RATs that compose the basic elements of the HetNet has been considered. The SMDs can connect to the cloud, as shown in Figure 5.1, by using the reachable RATs. The selection will depend upon the distance to the RATs as well as on other features that will be detailed below.</p>
						
						<figure>
							<a name="scenario1" class="fancybox" href="">
								<img src="" alt="" />
							</a>
						<figcaption>Fig 5.1 - The reference scenario with different node types in HetNet used by SMDs for offloading applications to UMCC.</figcaption>
						</figure>
						
						<p>The existence of different RATs allows cloud computing systems to complement the resource-constrained mobile devices. In effect, storage and computing tasks can be completed in the cloud, where the appropriate technology is selected among a variety of options. Different strategies can be carried out in order to enhance the network capacity, such as: deployment of relays, distributed antennas, and small cellular base stations (e.g. macrocells, picocells, femtocells), etc. These deployments have occurred indoors, in residential homes and offices, as well as outdoors, in amusement parks and busy intersections.</p>
						<p>These new network deployments are typically comprised by a mix of low-power nodes underlying the conventional homogeneous macrocell network. By deploying additional small cells within the local-area range and bringing the network closer to users, they can significantly boost the overall network capacity through a better spatial resource reuse. Inspired by the attractive features and the potential advantages of HetNets, their development have gained much momentum in the wireless industry and research communities during the past few years.</p>
						<p>The goal of the system and of every SMDs, indeed, is to choose and exploit effectively the different available RATs for transmitting the application data and for offloading towards the cloud. However, if this operation is not convenient, the application can be computed locally by the requesting SMD. The analized approaches to solve a collective CA problem are based on a cost function related to the number and the localization of the SMDs. The first approach is the optimization of the cost function, considering a relation among the different measures involved, but it can only be used once the position and requests of all the SMDs is known {i.e., it cannot be used for online allocation of resources. Thus, this approach assumes that all users' requests are processed at the same time {or, alternatively, that the allocation decision is postponed until all requests have been received, which, in practice, might require customers to wait for their requests to be served.</p>
						<p>The second approach adopts a heuristic method that makes use of a `greedy' behavior consisting on the selection of the `best next step' from a list of potential constructive movements [47], allowing to find a good solution on the fly, so that every SMD can connect to the proper cell without waiting for all the other SMDs taking place in the environment.</p>
						<p>The third, finally, is a novel algorithm that makes use of biased-randomization techniques [48] to improve the results obtained with the second.</p>
						<p>In the base heuristic described for the second algorithm, each agent tries to make the choice that maximizes his/her individual utility function. However, this might lead to sub-optimal solutions from a collective or social point of view, since individual decisions do not take into account a global perspective.</p>
						<p>In this context, the main idea behind our third approach is to introduce a slight modification in the greedy constructive behavior. This is done such in a way that the constructive process is still based on the heuristic logic but, at the same time, some degree of randomness is introduced. This random effect is generated throughout the use of a skewed probability distribution: at each step of the constructive process, each potential movement receives a probability of being selected, being this probability higher as more `promising' the movement is.</p>
						<p>In the following of this section the various components of the UMCC described in chapter 1 are recalled emphasizing the dependency from the parameters that play a role in the used algorithms.</p>
								
						<h5>Centralized Cloud</h5>
						<p>The cloud entity Ccc is characterized by its own computation speed, fcc. The storage availability of Ccc can be considered infinite, and thus it does not represent a constraint in the interaction with the SMDs. Hence, for the centralized cloud it is possible to write:</p>
						\begin{equation}
						  C_{\textit{cc}} = C_{\textit{cc}}(f_{\textit{cc}})
						 \end{equation} 
						 
						<h5>HetNet nodes</h5>
						<p>The wireless HetNet infrastructure is composed of some RAT nodes, each of them characterized by different features:</p>
						<ul>
						<li>Channel Capacity $BW$: the nominal bandwidth of a certain communication technology that is available for the requesting connecting devices;</li>
						<li>$n$: the number of devices connected to the RAT;</li>
						<li>$posRAT(x; y)$: the position in which the RAT is located.</li>
						</ul>
						<p>Hence, for the a generic RAT it is possible to write:</p>
						\begin{equation}
							\label{RAT-5}
							\textit{RAT} = \textit{RAT}(\textit{BW}, n, pos_\textit{RAT}(x,y))
						\end{equation} 
						
						<h5>Applications</h5>
						<p>Even if every SMD of the system can simultaneously request the computation offoading of one or more applications, we focus on a scenario where each SMD demand is restricted to a single application, which is characterized by the number of operations to be executed, $O$, and the amount of data to be exchanged, $D$. This simplification does not prevent the generalization of the system, since the general case in which a user requests several applications at a given time can be seen as an aggregation of several single-application requests. Hence, it is possible to express a generic application $App$ as:</p>
						\begin{equation}
							\label{App-5}
							\textit{App} = \textit{App}(O,D)
						\end{equation} 
						
						<h5>SMDs</h5>
						<p>Each SMD is characterized by the following features which infuence the performance of the computation offloading:</p>
						
						<ul>
						<li>$P_\textit{tr}$: the power consumed by the SMD to transmit data to the node</li> 
						<li>$P_l$: the power consumed by the \gls{SMD} for local computation</li>
						<li>$P_\textit{id}$: the power consumed by the \gls{SMD} in waiting mode while the computation in performed in the cloud</li>
						<li>$f_\textit{md}$: the speed to perform the computation locally</li>
						<li>$\textit{SNR}$: the \gls{SNR} of the device</li>
						<li>$pos_\textit{md}(x,y)$: the position in which the \gls{SMD} is located.</li>
						</ul>
						
						<p>Hence, for a generic smart mobile device SMD:</p>
						\begin{equation}
							\label{SMD-5}
							\textit{SMD} = \textit{SMD}(P_\textit{tr},P_l,P_\textit{id},f_\textit{md},\textit{SNR}, pos_\textit{md}(x,y))
						\end{equation} 
						
						<P>Given these entities, with the respective features, and defining $d_\textit{i,j}$ as the distance between the $i$-th \gls{RAT} to the $j$-th \gls{SMD}, we can resort the Shannon formula for the throughput $S_\textit{i,j}$ delivered by the $i$-th \gls{RAT} to the $j$-th \gls{SMD}, where $k$ is an attenuation coefficient for the signal propagation:</p>
						\begin{equation}
							\label{eq:distance-5}
							d_\textit{i,j} = \left|pos_\textit{RAT,i}(x,y)-pos_\textit{md,j}(x,y)\right|
						\end{equation}

						\begin{equation}
							\label{eq:throughput-5}
							S_\textit{i,j} = \frac{\textit{BW}_i}{n_i}\log_2\left\{1+\textit{SNR}_j e^{-k d_\textit{i,j}} \right\}
						\end{equation}
						
						<p>In case of computation offloading, Equation \eqref{eq:throughput-5} affects both the measures we are considering for evaluating the \gls{QoS}: </p>
						
						<ul>
						<li>the energy consumed by the $j$-th \gls{SMD}, i.e.: the sum of the energy spent in transmitting the application data plus the energy consumed while the application is computed on the cloud server;</li>
						<li>the time required to accomplish the application, i.e.: the sum of the time spent in transmitting the application data plus the time for computation on the cloud server.</li>
						</ul>
						
						<p>Considering an overall number of $N$ devices and a total number of $M$ \gls{HetNet} nodes, the energy and the time spent by the $j$-th \gls{SMD} for offloading towards the $i$-th \gls{RAT} are, respectively:</p>
						\begin{equation}
							\label{eq:energyOD-5}
							E_\textit{i,j} = \frac{P_\textit{tr i}\,D}{S_\textit{i,j}} + \frac{P_{id\,i}\,O }{f_{cc}} \quad i=1,2,\dots,M;j=1,2,\dots,N;
						\end{equation}
						
						\begin{equation}
							\label{eq:timeOD-5}
							T_\textit{i,j} = \frac{D}{S_\textit{i,j}} + \frac{O}{f_{cc}} \quad i=1,2,\dots,M;j=1,2,\dots,N;
						\end{equation}
						
						<p>On the other hand, in case of local computation executed by the $j$-th \gls{SMD}, the energy and the time consumed by the \gls{SMD} are, respectively:</p>
						
						\begin{equation}
							\label{eq:energyL-5}
							E_\textit{0,j}=\frac{P_{l\,j}\,O}{f_\textit{md\,j}} \quad j=1,2,\dots,N;
						\end{equation} 
						
						\begin{equation}
							\label{eq:timeL-5}
							T_\textit{0,j} = \frac{O}{f_\textit{md\,j}} \quad j=1,2,\dots,N;
						\end{equation}
						
						<p>where the 0 index represents a fictitious node related to this operation.</p>
						<p>The \gls{SMD} requesting to compute an application $App$ evaluates if the computation offloading is convenient and which is the \gls{RAT} to be used. The decision aims at minimizing the energy consumption of the user requesting the service as well as the execution time required to accomplish the application. Therefore, the decision is `selfish' in the sense that it does not take into account the current and future needs of other users.</p>
						<p>We consider, instead, to optimize the global energy consumption, assuming an environment where the devices of the set ${\cal{N}} = \{ 1, 2, \cdots, j, \cdots,  \textit{N} \}$ are requesting to offload an application using the nodes of the set ${\cal{M}} = \{ 0, 1, 2, \cdots, i, \cdots,  \textit{M} \}$, where the 0-th element represents the fictitious node related to the local computation. </p>
						<p>Defining $x_{i,j}$ as a binary variable that indicates whether SMD$_j$ is assigned to RAT$_i$ or not, and $y_j$ as another binary variable to account for SMD$_j$ computing locally its application, it is possible to write the energy consumed by SMD$_j$ when offloading towards RAT$_i$ (Equation \eqref{eq:energyOD-5}) by exploiting Equation \eqref{eq:throughput-5} </p>
						
						\begin{equation}
							\label{eq:energyFunctionCost-5}
							E_\textit{i,j} = x_{i,j}\left(\frac{P_\textit{tr j}\,D}{\frac{\textit{BW}_i}{n_i}log_2\left\{1+\textit{SNR}_j e^{-k d_\textit{i,j}} \right\}} + \frac{P_\textit{id\,j}\,O }{f_{cc}}\right) + y_j \left( \frac{P_{l\,j}\,O}{f_\textit{md\,j}} \right) 
						\end{equation}
						\begin{equation*}
						x_{i,j} = \begin{cases}
						1& \text{if SMD$_j$ is assigned to RAT$_i$},\\
						0& \text{otherwise}.
						\end{cases}
						\end{equation*}
						\begin{equation*}
						y_j = \begin{cases}
						1& \text{if SMD$_j$ computes $App$ locally},\\
						0& \text{otherwise}.
						\end{cases}
						\end{equation*}
						
						<p>where $n_i$ is the number of \glspl{SMD} connected to RAT$_i$, i.e. $n_i = \sum_{l \in \cal{N}} x_{i,l}$. </p>
						
						<p>Rearranging the constant terms and the variable terms it is possible to write:</p>
						\begin{equation}
							E_{i,j} = x_{i,j} \left\{ K^\textit{tr}_{i,j} \sum_{l \in \cal{N}} x_{i,l} + K^{id}_j \right\} + y_j E_{0,j}
							\label{eq:energyODmodel-5}
						\end{equation}
						
						<p>The constant part for offloading due to the transmission is computed as $K^\textit{tr}_{i,j} = \frac{P_\textit{tr j}\,D}{\textit{BW}_ilog_2\left\{1+\textit{SNR}_j e^{-k d_\textit{i,j}} \right\}}$ plus the constant part $ K^{id}_j = \frac{P_{id\,j}\,O }{f_{cc}}$. Therefore the optimization model can be expressed as:</p>
						
						\begin{equation}
							\min_{x,y} Z = \sum_{\substack{ i \in \cal{M} \\ j \in \cal{N}}} x_{i,j} \left\{ K^{tr}_{i,j} \sum_{l \in \cal{N}} x_{i,l}  + K^{id}_j \right\} + \sum_{j \in \cal{N}} y_j E_{0,j} 
							\label{eq:mod_minEnergy-5}
						\end{equation}
						
						\begin{equation*}
						s.t. \sum_{i \in \cal{M}} x_{i,j} + y_j = 1 \qquad\qquad  j \in \cal{N} 
						\end{equation*}
						
						\begin{equation*}
						x_{i,j}, y_j  \in \{0,1\} \qquad\qquad i \in \cal{M} \qquad \textit{j} \in \cal{N};
						\end{equation*}

						
						<P>The objective function (\eqref{eq:mod_minEnergy-5}) minimizes the overall energy spent, while ensuring that all devices are either assigned to a \gls{RAT} or leaving the computations to be done locally. 

						<h4><a name="c5.s3">5.3 Optimal and Heuristic Solutions</a></h4>
						<p>In this section different methods to solve the optimization model are presented. A first approach is to use an off-the-shelf commercial solver, but for real large-size instances it requires unsuitable computation times. Moreover, since  we take into account mobile \glspl{SMD}, thus their position changes in time, the cell association has to be computed often. Therefore, given that the assignation of the \glspl{SMD} to the \gls{RAT} nodes has to be done in a very short time, we analyze several heuristic procedures. We focus on a novel \autoref{algo:BRAalgo} based on biased randomization strategy, that is proposed to improve the quality of the solution from a social or collective point of view, enhancing a previously proposed greedy \autoref{algo:ACalgo}.  
						To evaluate their  effectiveness we use the optimal solution presented in \autoref{sub:model}, that can only be applied \emph{ex-post}, once all the \gls{SMD} requests have been revealed. This optimal solution is found using the procedure of \autoref{algo:Baronalgo}. In particular, since the global optimization needs to know the position and the requests of all the \glspl{SMD}, it cannot be used for online allocation of resources. Thus, this approach assumes that all users' requests are processed at the same time --or, alternatively, that the allocation decision is postponed until all requests have been received--, which in practice might require customers to wait for their requests to be served. </p>
						<p>On the other hand, the heuristic method making use of a `greedy' behavior, consisting on the selection of the `best next step' from a list of potential constructive movements \cite{Globecom2014}, allows to find a good solution in real time, so that every \gls{SMD} can connect to the proper cell without waiting for all the other \glspl{SMD} taking place in the environment. But with this heuristic, each agent tries to make the choice that maximizes his/her individual utility function, so that this might lead to sub-optimal solutions from a collective or social point of view, since individual decisions do not take into account a global perspective. </p>
						
						<h5>Optimal Solution</h5>
						<p>The previous objective function shown in \autoref{mod:assignmentModel-5} can be seen as an application of the \gls{QSAP} which is NP-hard \cite{burkard-2013}. A first approach to find the solution is to use the global optimizer Baron \cite{Baron}.  
						The Branch-And-Reduce Optimization Navigator derives its name from its combining constraint propagation, interval analysis, and duality in its reduce arsenal with advanced branch-and-bound optimization concepts.</p>
						<p>Note that the \gls{QSAP} not only needs to know the position of all \glspl{SMD} requests before assigning them to an antenna, but also it takes a time longer than the needed to serve quickly the \glspl{SMD}, as shown in \autoref{sec:numerical-results-5}. Therefore, the optimal resolver can be taken only as reference, to compare fast heuristics (which can do the assignation dynamically or with a \emph{wait-and-go}) with an optimal, ideal solution.
						
						<figure>
							<a name="algo2" class="fancybox" href="png/algo2.PNG">
								<img src="png/algo2.PNG" alt="" />
							</a>
						<figcaption>Algorithm 2 - Optimal Solution.</figcaption>
						</figure>
						
						<h5>The Greedy Heuristic</h5>
						<p>In this sub-section, we recall a heuristic algorithm used to solve the \gls{CA} problem following a greedy behavior. It has been used also in \autoref{chap:GLOBECOM14}, to resolve the \gls{CA} problem in the case discussed above, considering a user-satisfaction based utility function. If the offloading operation is advantageous with respect to the local computation, the \gls{CA} scheme leads to select the `best' next node from the list of the available ones. The requests of the \glspl{SMD} appear in time sequence, and the cost function is evaluated on the basis of the current situation, i.e., considering only the previously appeared \glspl{SMD}. If the offloading cost is less than the cost for the local computation, the \gls{SMD} will connect to the node which minimizes the cost function, otherwise it will compute the application without connecting. The selection of the $i$-th node for connecting the $j$-th \gls{SMD} modifies the values of the throughput $S_\textit{i,k}$ and consequently of the energy $E_\textit{i,k}$ for the \glspl{SMD} already connected with the same node, i.e., for $k=1,2,\dots,j-1$. Thus, this strategy, reported in \autoref{algo:ACalgo}, does not take into account any forecast of future connections, leading to a sub-optimization due to the randomness of the requests.</p>
						
						<figure>
							<a name="algo3" class="fancybox" href="png/algo3.PNG">
								<img src="png/algo3.PNG" alt="" />
							</a>
						<figcaption>Algorithm 3 - Greedy Cell Association Heuristic.</figcaption>
						</figure>
						
						<h5>Biased-randomized Algorithm</h5>
						<p>Making use of biased-randomization techniques \cite{Juan2011}, the proposed probabilistic algorithm is able to find near-optimal solutions in real time, thus outperforming by far the solutions provided by the heuristic approach. The main idea behind our novel approach is to introduce a slight modification in the greedy constructive behavior. This is done in such a way that the constructive process is still based on the heuristic logic but, at the same time, a certain degree of randomness is introduced. This random effect is generated throughout the use of a skewed probability distribution: at each step of the constructive process, each potential movement receives a probability of being selected, being this probability higher for the more \emph{promising} movements.</p>
						
						<p>As it will be illustrated in the numerical results, the use of the biased-randomized approach allows to easily enhance the quality of the solutions generated by the original heuristic in different dimensions when considering social or collective performance, reaching a solution nearer to the optimal, without the need to know all the \glspl{SMD}' positions. </p>
						
						<p>Also, it is important to notice that if a uniform probability distribution would be used instead of a skewed one, this improvement would very rarely occur since the logic behind the constructive heuristic would be destroyed and, accordingly, the process would be random but not correctly oriented.</p>
						
						<p>To avoid losing the logic behind the heuristic, GRASP meta-heuristics \cite{Feo1995} proposes to consider a restricted list of candidates --i.e., a sub-list including just some of the most promising movements, that is, the ones at the top of the list--, and then apply a uniform randomization in the order the elements of that restricted list are selected. This way, a deterministic procedure is transformed into a randomized algorithm --which can be encapsulated into a multi-start process--, while most of the logic or common sense behind the original heuristic is still respected.</p>
						
						<p>The proposed biased-randomization approach goes one step further, and instead of restricting the list of candidates, it assigns different probabilities of being selected to each potential movement in the sorted list. In this way, the elements at the top of the list receive more probabilities of being selected than those at the bottom of the list, but potentially all elements could be selected. Notice that by doing so, we are not only avoiding the issue of selecting the proper size of the restricted list, but we also guarantee that the probabilities of being selected are always proportional to the position of each element in the list. As a result, each time the randomized algorithm is executed, a new probabilistic solution is obtained (\autoref{fig:Scheme}). Some of these solutions will improve the original one provided by the base heuristic and, moreover, the proposed approach allows to offer alternative solutions to choose from, each of them with different properties.</p>
						
						<figure>
							<a name="schemebra" class="fancybox" href="png/schemebra.PNG">
								<img src="png/schemebra.PNG" alt="Scheme of the biased-randomization approach" />
							</a>
						<figcaption>Scheme of the biased-randomization approach.</figcaption>
						</figure>
						
						<p>Focusing on our specific problem, the biased-randomization algorithm for the cell association consists of a skewed criteria based on the same cost function utilized for the greedy heuristic, i.e., the \gls{SMD}'s energy consumption for computing the application.
						When a \gls{SMD} request occurs, the cost function $E_\textit{i,j}$ is evaluated for every possible \gls{RAT} node (considering also the fictitious node $0$ related to the local computation).</p>
						
						<p>The values are sorted in a way so that the probabilities of being selected depend not only on the cost function $E_\textit{i,j}$, but also on the distances $d_\textit{i,j}$ of the device from the \gls{RAT} nodes and on the number of devices $n_i$ that potentially can be connected to each \gls{RAT} node.</p> 
						
						<p>In fact, on the basis of the greedy algorithm, a \gls{SMD} far from all the \gls{RAT} nodes, but occurred before any other, is associated to a \gls{RAT} because the cost function value of the offloading is less than the cost function for the local computation. Instead, due to the high probability that another \gls{SMD} closer to this \gls{RAT} occurs, the local computation could be a better choice, giving place to the connection of the second closer \gls{SMD}. To improve the cell association, the criteria for sorting the list of choices takes into account the product $d_\textit{i,j} \cdot E_\textit{i,j}$, with $i \in \{{0\}} \cup \mathcal{M}$, instead of $E_\textit{i,j}$. The value of $d_\textit{0,j}$ is adjusted empirically and depends on the overall number of \glspl{SMD} which are expected to interact in the system. We selected a value $d_\textit{0,j}$ depending on the overall number of \glspl{SMD} which are supposed to interact in the system. The value of $d_\textit{0,j}$ has been evaluated observing  the optimal solution given by \ref{sub:model} in the post-analysis, i.e., when all the \gls{SMD} positions are already known.</p> 
						
						<p>This strategy is reported in Algorithm \autoref{algo:BRAalgo}.</p> 

						<figure>
							<a name="algo4" class="fancybox" href="png/algo4.PNG">
								<img src="png/algo4.PNG" alt="Biased-randomization algorithm" />
							</a>
						<figcaption>Biased-randomization algorithm.</figcaption>
						</figure>

						<h4>5.4 Numerical Results</h4>
						<p>We considered a deployment area similar to that of the previous chapters, i.e. an extension of $1000 m^2$, where one \gls{LTE} eNodeB with channel capacity equal to 100 MHz is positioned at point (500, 500) and three \gls{WiFi} access points with channel capacities equal to 22 MHz are positioned at point (0, 0), (500, 999) and (1000, 0). Each of them is supposed to cover the entire area and we considered an attenuation coefficient for the propagation $k$ equal to $10^{-3}$. Furthermore, similarly to \cite{Globecom2014}, the capacity constraints on the antennas is not considered, assuming there is no limitation on the number of customers.</p>
						
						<p>The \glspl{SMD} are placed in the deployment area according to a uniform distribution. In particular, we have chosen a controlled random number generation of type Mersenne Twister with seed equal to 1. The values of $f_{\textit{md}}$, $P_{\textit{id}}$, $P_{\textit{tr}}$, $P_l$, and $\textit{SNR}$ are specific parameters of the mobile devices. We considered the values of an HP iPAQ PDA with a 400 MHz Intel XScale processor ($f_{\textit{md}}=400$ MHz) and the following values: $P_l = 0.9 W$, $P_{\textit{id}} = 0.3 W$, $P_{\textit{tr}} = 1.3 W$, and $\textit{SNR} = 1000$. Regarding the cloud server, we suppose a computation speed $f_{cs} = 10^6$ MHz~\cite{Kumar}. We have chosen an application which is accomplished through a number of operation $O = 10^7$ and, if offloaded, needs a data transfer $D = 10^4$ bits.</p>
						
						<p>We have compared the cell association configurations resulting from the greedy heuristic, the biased-randomization algorithm, and the Baron solution. The no-connections configuration (all the \glspl{SMD} compute local) and the nearest-node configuration (each \gls{SMD}  connected to the closest \gls{RAT}) are also taken into account for comparison. The throughput, the energy consumed by the \glspl{SMD} and the time employed for accomplishing the application are evaluated and observed for each configuration, considering an increasing number of \glspl{SMD} involved in the system, in particular 500, 1000, 2000, and 5000. 
						
						<p>\autoref{tab:result_throughput}, \autoref{tab:result_energy}, and \autoref{tab:result_time} show, respectively, the results related to the throughput, the energy, and the time. The ex-post solution has been computed with Baron under the Neos server \footnote{\url{http://www.neos-server.org}}. The \gls{QSAP} model is implemented with the mathematical modeling language \gls{GAMS}. The other methods have been implemented in Matlab.</p>
						
						<figure>
							<a name="table5-1" class="fancybox" href="png/table5-1.PNG">
								<img src="png/table5-1.PNG" alt="Throughput" />
							</a>
						<figcaption>Throughput.</figcaption>
						</figure>
						
						<figure>
							<a name="table5-2" class="fancybox" href="png/table5-2.PNG">
								<img src="png/table5-2.PNG" alt="Energy" />
							</a>
						<figcaption>Energy.</figcaption>
						</figure>
						
						<figure>
							<a name="table5-3" class="fancybox" href="png/table5-3.PNG">
								<img src="png/table5-3.PNG" alt="Time" />
							</a>
						<figcaption>Time.</figcaption>
						</figure>
						
						<h4>5.5 Analisys of Results</h4>
						<p>The results of \autoref{tab:result_throughput},  \autoref{tab:result_energy}, and \autoref{tab:result_time} show that the biased-randomized algorithm clearly improves the cell association configuration with respect to the greedy heuristic. These improvements are: 2.24\% in throughput, 14.30\% in energy consumption, and 0.42\% in computation time. </p>
						<p>Also, the average energy and time values provided by the randomized algorithm, which only requires some milliseconds to compute, are quite similar to the solutions provided by Baron, which is stopped after 1,000 seconds of computation. The results are visually compared in \autoref{fig:throughputComparison} and in~\autoref{fig:throughput-5}, where we can see that the trends of average throughput are very similar, practically overlapped, in the three cases of interest, i.e. the greedy heuristic, the biased randomized algorithm, and the Baron ex-post configuration. This means that the capacity of the \gls{RAT} nodes is well-exploited in all the three cases considered. In \autoref{fig:throughputComparison} the average throughput values are visualized in a different scale to make possible the comparison of the three algorithms.</p>

						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<p>Considering the average energy consumed by a \gls{SMD} to perform the application, which is the objective function to minimize, Figure \autoref{fig:energy-5} shows that the biased-randomized algorithm clearly outperforms the greedy heuristic. The same observation can be inferred from Figure\autoref{fig:time-5} in relation to the average time that a device needs to accomplish the application. Both the average energy and the time values are very close to the respective Baron configuration average energy and time values, thus the biased randomized algorithm can be exploited by the \glspl{SMD} to reach a near-optimal configuration in real time while the solution seen from a collective point of view minimizes the overall energy consumption. This is useful for  offloading applications which need a fast cell association decision, for example when the users are in movement and the configuration must be updated very often. 
						</p>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<p>Comparing the different configurations of the devices placed in the observed area, reported in \autoref{fig:scatter500}, \autoref{fig:scatter1000}, \autoref{fig:scatter2000} and \autoref{fig:scatter5000} for a total number of SMD equal to 500, 1000, 2000 and 5000 respectively, we can note that the case referring to the biased-randomized algorithm is very similar to the ex-post optimal solution, where the \glspl{SMD} connected to the same \gls{RAT} are clustered in the neighborhood of the \gls{RAT}.  </p>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption></figcaption>
						</figure>
						
						<h4>5.6 Conclusion</h4>
						<p>In this chapter we presented different strategies for efficient cell association in pervasive wireless environments. In particular, we proposed an original probabilistic algorithm that allows to consider a more global point of view --instead of just an individual one-- during the real-time resource allocation. Thus, the mobile communication system is managed in a cooperative way, considering the \gls{QoS} of the entire population of mobile users. This vision could be adopted for the provision of services in a smart city, improving performance and well-being of the community through a social use of the \gls{UMCC} framework. Our approach is based on the use of biased-randomization techniques, which have been used in the past to solve similar combinatorial optimization problems in the fields of logistics, transportation, and production. This work extends their use to the field of smart cities and mobile telecommunications. Some numerical experiments contribute to illustrate the potential of the proposed approach.
						</p>
						
						<h3><a name="chap6">6. Conclusion and future works</a></h3>
						<h4>6.1 Final Conclusions</h4>
						<p>The actual realization of the vision of smart cities is an exciting perspective with the potential of bringing tremendous improvements to our society, thanks to novel pervasive services assisting us in every aspect of our lives.</p>
						<p>While the increasingly deep integration of \gls{ICT} services in the physical world has been the main enabling factor motivating this vision, we believe that the intelligent and efficient exploitation of the infrastructures will be the key to its success.</p>
						<p>Our contribution has proposed an original solution approach for dealing with common resources that need an optimization for the distribution among users.</p>
						<p>We hope that our work was successful in proposing general and simple solution principles that can be used fruitfully as starting points for new research efforts toward the realization of future large scale smart pervasive environments. Finally, let us note that, while the scope of our research was focused on the specific application scenario of smart city environments, we believe that most of the presented results can be easily and successfully used in other scenarios with similar requirements of efficient and scalable distribution, such as the management of large scale telecommunication infrastructures or smart grids deployments. </p>
						
						<h4>6.2 Directions for Future Works</h4>
						<p>Cities around the globe are beginning to build out new digital services such as smart lighting, traffic, waste management and data analytics to reduce costs, tap new sources of revenue, create new innovation business districts and improve the overall quality of urban life. Integrated \gls{IoT} and \gls{MCC} applications enabling the creation of smart environments such as smart cities need to be able to combine services offered by multiple stakeholders and scale to support a large number of users in a reliable and decentralized manner. They deal with constraints such as access devices or data sources with limited power and unreliable connectivity. The \gls{UMCC} needs to be enhanced to support a seamless execution of applications harnessing capabilities of multiple dynamic and heterogeneous resources to meet quality of service requirements of diverse users.</p>
						<p>The management of distributes mobile platform resources need further investigation. This thesis is a starting point for a user-centric model that requires additional heterogeneity: i.e. customized needs and different \gls{QoS} levels. For example, some users could not have problem of battery charge whereas others could need to save energy (i.e. \gls{SMD} having a low-battery-level status). Thus, the clusterization debated in \autoref{chap:cluster-based} needs to be deeply investigated.  </p>
						<p>A further point of invetigation is the study of \glspl{SMD} in motion, for analyzing the time evolution of the system: in \autoref{chap:socialBRA} the approach \emph{on the fly} assigns a \gls{RAT} node to a \gls{SMD} every time a request occurs, but, since it depends on the position of the devices, the \gls{CA} needs a time optimization subordinate to the speed of the devices.</p>
						<p>In addition, considering an operational research perspective, the \gls{CA} assignation in the \gls{UMCC} can be seen as a stochastic allocation of resources, in particular an assignation of the \glspl{SMD} to the available \glspl{RAT}, as shown in \autoref{RandomAllocation}. <p>
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption>Allocation of mobile devices with random positions to RATs</figcaption>
						</figure>
						
						<p>In fact, being mobile, the position of the devices change over time, and it is possible to assume that the position of each device in a future target time can be characterized by two random variables, describing the x and y location, respectively as shown in \autoref{randomXY}. </p>
						
						<figure>
							<a name="" class="fancybox" href="png/">
								<img src="png/" alt="" />
							</a>
						<figcaption>Random position of the devices in a target time</figcaption>
						</figure>
						
						<p>It will also be assumed that the expected value of each random variable will be given by the current position of the respective device. Assuming that the expected value of each random variable will be given by the current position of the respective device, it is possible to model this scenario as a \gls{FLP} with stochastic assignment costs - i.e. a combination of different factors, such as time-based costs and energy-based costs, random variables proportional to the Euclidean distance between the device and the \gls{RAT} node. It is worth to note that the \glspl{RAT}â€™ capacity could be considered either as virtually unlimited or not, thus leading to two different problems: the Uncapacitated \gls{FLP} and the Capacitated \gls{FLP}, respectively. One way to deal with these stochastic  \glspl{FLP} would be to use a simheuristic approach \cite{Juan2015} i.e., a combination between a fast metaheuristic - able to quickly generate several good or promising solutions for the deterministic version of the \gls{FLP} - and a fast simulation process able to estimate the expected cost associated to a given deterministic solution when it is used for the stochastic scenario. The main goal of this future work will be to minimize the expected costs of the assignment process. The simulation, however, could also provide insights on the â€˜robustnessâ€™ of each promising solution, enriching a risk analysis investigation.</p>
						
				</div>
				
				<div id="sidebar">
					<p><a href="#Abstract">Abstract</a></p><hr>
                    <p><a href="#Introduction">Introduction</a></p><hr>
                    <p><a href="#OriginalContribution">Original Contribution</a></p><hr>
                    <blockquote>
                    	<p><a href="#PersonalPublications">Personal Publications</a></p><hr>
                    </blockquote>
                    <p><a href="#Acknowledgments">Acknowledgments</a></p><hr>
                    <p><a href="#Tables">List of Tables</a></p><hr>
                    <p><a href="#Figures">List of Figures</a></p><hr>
                    <p><a href="#Glossary">Glossary</a></p><hr>
                    <p><a href="#Acronyms">Acronyms</a></p><hr>
                    <p><a href="#part1">Part 1 - Urban Mobile Cloud Computing: a framework at the service of smart cities</a></p><hr>
                    <blockquote>
                    	<p href="#chap1">1. The UMCC architecture</p><hr>
                    </blockquote>
                    
                    <p><a href="#part2">Part 2 - Partial Offloading Optimization</a></p><hr>
                    <blockquote>
                    	<p><a href="#chap2">2. A Partial Computation Offloading Technique</a></p><hr>
                    	<p><a href="#chap3">3. A User-Satisfaction Based Offloading Technique</a></p><hr>
                    	<p><a href="#chap4">4. A Cluster Based Offloading Technique</a></p><hr>
                    </blockquote>
                    <p><a href="#part3">Part 3 - Optimization considering a community of devices</a></p><hr>
                    <blockquote>
                    	<p><a  href="#chap5">5. A Social-Aware Biased-Randomized Algorithm for UMCC</a></p><hr>
                    	<p><a  href="#chap6">6. Conclusion and future works</a></p><hr>
                    </blockquote>
                    <p><a href="#Bibliography">Bibliography</a></p><hr>
				</div>
			</div>

			<!-- <footer>
				<p>The sliding panel can cross the red line, as there is no bottom boundary.</p>
				<p><small>Demo of <a href="http://simianstudios.com/portamento/">Portamento</a> by Kris Noble 2011. Tasty filler text by <a href="http://baconipsum.com">Bacon Ipsum</a>.</small></p>
			</footer> -->
		</div>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
		<script src="portamento.js"></script>		
		<script>
			$('#sidebar').portamento();	
		</script>

		<!-- Add fancyBox -->
		<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
		<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/fancybox/1.3.4/jquery.fancybox-1.3.4.pack.min.js"></script> 
		<script type="text/javascript">
    	$(function($){
        var addToAll = false;
        var gallery = false;
        var titlePosition = 'inside';
        $(addToAll ? 'img' : 'img.fancybox').each(function(){
            var $this = $(this);
            var title = $this.attr('title');
            var src = $this.attr('data-big') || $this.attr('src');
            var a = $('<a href="#" class="fancybox"></a>').attr('href', src).attr('title', title);
            $this.wrap(a);
        });
        if (gallery)
            $('a.fancybox').attr('rel', 'fancyboxgallery');
        $('a.fancybox').fancybox({
            titlePosition: titlePosition
        });
    	});
    	$.noConflict();
    	$('.fancybox').fancybox({
        'topRatio':0.5,
        'leftRatio':0.5
        });
		</script>

	</body>
</html>